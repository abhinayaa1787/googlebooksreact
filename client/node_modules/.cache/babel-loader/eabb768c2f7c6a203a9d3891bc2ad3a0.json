{"ast":null,"code":"'use strict';\n/*!\n * ignore\n */\n\nmodule.exports = function (schematype) {\n  if (schematype.$immutable) {\n    schematype.$immutableSetter = createImmutableSetter(schematype.path);\n    schematype.set(schematype.$immutableSetter);\n  } else if (schematype.$immutableSetter) {\n    schematype.setters = schematype.setters.filter(function (fn) {\n      return fn !== schematype.$immutableSetter;\n    });\n    delete schematype.$immutableSetter;\n  }\n};\n\nfunction createImmutableSetter(path) {\n  return function immutableSetter(v) {\n    if (this.$__ == null) {\n      return v;\n    }\n\n    if (this.isNew) {\n      return v;\n    }\n\n    return this[path];\n  };\n}","map":null,"metadata":{},"sourceType":"script"}